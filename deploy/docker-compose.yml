## YAML Template.
---
version: '3.3'

services:
    api:
        build:
            context: .
#            target: development
#            target: production
        image: koa_api
#        image: asia-east1-docker.pkg.dev/sevensenses-team2-koa/petarush/petarush_api
        container_name: KoaAPI
        ports: 
            - 37001:80
        volumes: 
            - ./src:/var/www/html
        environment:
            SYSENV: local
#            PROCESS_TIMING: 'true'
#            MAINTAIN: 'true'
            TIMEZONE_DEFAULT: 8
            
            DB_MAIN_HOST: db
            DB_MAIN_PORT: 3306
            DB_MAIN_USERNAME: root
            DB_MAIN_PASSWORD: 1111
            DB_MAIN_NAME: koa_main
            DB_STATIC_HOST: db
            DB_STATIC_PORT: 3306
            DB_STATIC_USERNAME: root
            DB_STATIC_PASSWORD: 1111
            DB_STATIC_NAME: koa_static
            DB_LOG_HOST: db
            DB_LOG_PORT: 3306
            DB_LOG_USERNAME: root
            DB_LOG_PASSWORD: 1111
            DB_LOG_NAME: koa_log
            DB_ELITE_HOST: db
            DB_ELITE_PORT: 3306
            DB_ELITE_USERNAME: root
            DB_ELITE_PASSWORD: 1111
            DB_ELITE_NAME: koa_elitetest
            
            MEMCACHED_HOST: memcached
            MEMCACHED_PORT: 11211
#            XDEBUG_CLIENT_HOST: 192.168.3.243
#            XDEBUG_CLIENT_PORT: 9003
    memcached:
        image: memcached:1.6.9
        container_name: KoaMemcached
        ports: 
            - 39902:11211
    db:
        image: mariadb
        container_name: KoaDatabase
        ports:
            - 37002:3306
        volumes:
            - ./data:/var/lib/mysql
        environment:
            MYSQL_ROOT_PASSWORD: 1111
            