## YAML Template.
---
version: '3.3'

services:
    api:
        build:
            context: .
#            target: development
#            target: production
        image: koa_api
#        image: asia-east1-docker.pkg.dev/sevensenses-team2-koa/petarush/petarush_api
        container_name: KoaAPI
        ports: 
            - 37001:80
        volumes: 
            - ./src:/var/www/html
            - /var/www/html/vendor
        environment:
            SYSENV: local
#            PROCESS_TIMING: 'true'
#            MAINTAIN: 'true'
            TIMEZONE_DEFAULT: 8
            
            DB_MAIN_HOST: db
            DB_MAIN_PORT: 3306
            DB_MAIN_USERNAME: root
            DB_MAIN_PASSWORD: 1111
            DB_MAIN_NAME: koa_main
            DB_STATIC_HOST: db
            DB_STATIC_PORT: 3306
            DB_STATIC_USERNAME: root
            DB_STATIC_PASSWORD: 1111
            DB_STATIC_NAME: koa_static
            DB_LOG_HOST: db
            DB_LOG_PORT: 3306
            DB_LOG_USERNAME: root
            DB_LOG_PASSWORD: 1111
            DB_LOG_NAME: koa_log
            DB_ELITE_HOST: db
            DB_ELITE_PORT: 3306
            DB_ELITE_USERNAME: root
            DB_ELITE_PASSWORD: 1111
            DB_ELITE_NAME: koa_elitetest
            
            MEMCACHED_HOST: memcached
            MEMCACHED_PORT: 11211
            
            SSO_URI: https://passport.gamma.metasens.io/v1
            SSO_CLIEND_ID: 95e7029a-b391-43d8-a77b-f23992906397
            SSO_CLIEND_SECRET: msrqEmF7Wk4shu2c5kI7y35UawpOyJz8rEx8uuSc
            APP_URI: http://localhost:37001
            
            NFT_URI: https://blockchain-middleware.gamma.metasens.io/v1
            NFT_CLIENTID: 1745180808770445313
            NFT_APISECRET: 7e3luSeepds7Pb4yHpzSe5bP687T0VrWAA4kMyfALyMfdx9F

            QuickSDK_CallBackKey_Android: '93981875772716097886792684820569'
            QuickSDK_CallBackKey_iOS: '11037844153751881221082701761433'

            MYCARD_SWITCH: 'true'
            MYCARD_URI: https://testb2b.mycard520.com.tw/MyBillingPay/v1.2
            MYCARD_ALLOWIP: '["218.32.37.148","40.83.124.36","172.21.0.1"]'
            MYCARD_FACSERVICEID: 'PETARUSH'
            MYCARD_FACGAMEID: 'PetaRush'
            MYCARD_FACGAMENAME: '動物大奔走'
            MYCARD_SANDBOXMODE: 'true'
            MYCARD_FACKEY: 'xxxxxxxxxxx'

            GOOGLE_APPLICATION_CREDENTIALS: /configs/credentials.json
            GOOGLE_SERVICE_ACCOUNT: /configs/account.json
            GOOGLE_APPNAME: petarushTest02
            GOOGLE_APIKEY: AIza___
            GOOGLE_PURCHASEKEY: MIIBI___
            GOOGLE_PACKAGENAME: com.mwc.test

#            XDEBUG_CLIENT_HOST: 192.168.3.243
#            XDEBUG_CLIENT_PORT: 9003
    memcached:
        image: memcached:1.6.9
        container_name: KoaMemcached
        ports: 
            - 39902:11211
    db:
        image: mariadb
        container_name: KoaDatabase
        ports:
            - 37002:3306
        volumes:
            - ./data:/var/lib/mysql
        environment:
            MYSQL_ROOT_PASSWORD: 1111
            